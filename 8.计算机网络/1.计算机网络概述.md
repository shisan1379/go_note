


# 一个简单的网络



网络(Network) 由若干节点(Node) 和 链路组成。网络中的节点可以是计算机、集线器、交换机或者路由器等。


![alt text](image.png)


多个小的网络，通过 **路由器** 互联起来，就构成了一个覆盖范围更大的网络。称之为 **互联网（internetwork 或 internet）**

![alt text](image-1.png)



**因特网（Internet）** 是世界上最大的互联网络

![alt text](image-2.png)

# 因特网发展的三个阶段

因特网的基础结构大致经历了如下三个阶段的演进：

![alt text](image-3.png)


**第一阶段**：1969年出现了美国军用计算机网ARPANET(“阿帕网”)，也就是今天互联网的雏形。数据集中式处理，数据处理和通信处理都是通过主机完成。

当时的阿帕网仅连接四个结点，传输速率低，因为当时的计算机图形界面没有发展起来，信息的只能通过文字终端进行展示，没应用场景。

1969年四个节点的分布位置。分别是：

- 加州大学洛杉矶分校 --- UCLA
- 加州大学圣巴巴拉分校 --- UCSB
- 斯坦福研究所 ---SRI
- 犹他大学 --- Utah

![alt text](image-4.png)



**1983年，TCP/IP协议**成为ARPANET的标准协议，因此人们将1983年认为是Internet的诞生时间。

**第二阶段：建成了三级结构的互联网**。从1985 年起，美国国家科学基金会NSF(National Science Foundation)就围绕六个大型计算机中心建设计算机网络，即国家科学基金网NSFNET，它是一个三级计算机网络，分为主干网、地区网和校园网(或企业网)。这种三级计算机网络覆盖了全美国主要的大学和研究所，并且成为互联网中的主要组成部分。1991年，NSF和美国的其他政府机构开始认识到，互联网必将扩大其使用范围，不应仅限于大学和研究机构。世界上的许多公司纷纷接入到互联网，网络上的通信量急剧增大，使互联网的容量已满足不了需要。于是美国政府决定将互联网的主干网转交给私人公司来经营,并开始对接入互联网的单位收费。1992 年互联网上的主机超过100 万台。1993 年互联网主干网的速率提高到45 Mbit/s (T3 速率)。


**第三阶段：逐渐形成了多层次ISP结构的互联网**。从1993 年开始，由美国政府资助的NSFNET逐渐被若千个商用的互联网主干网替代，而政府机构不再负责互联网的运营。这样就出现了-一个新的名词：**互联网服务提供者ISP (Internet Service Provider)**。在许多情况下，ISP 就是一个进行商业活动的公司，因此ISP又常译为互联网服务提供商。例如，中国电信、中国联通和中国移动等公司都是我国最有名的ISP。




**互联网服务提供者ISP (Internet Service Provider)**：
ISP可以**从互联网管理机构申请到很多IP 地址**（互联网上的主机都必须有IP地址才能上网），同时拥有通信线路(大ISP自己建造通信线路，小ISP则向电信公司租用通信线路)以及路由器等连网设备，因此任何机构和个人只要向某个ISP交纳规定的费用，就可从该ISP获取所需IP地址的使用权，并可通过该ISP接入到互联网。

![alt text](image-5.png)



根据提供服务的覆盖面积大小以及所拥有的IP地址数目的不同，ISP也分为不同层次
的ISP：**主干ISP、地区ISP和本地ISP**（从层次关系上我们也称为第一层ISP、第二层ISP、本地ISP）。
- **主干ISP**由几个专门的公司创建和维持，服务面积最大(一般都能够覆盖国家范围),并且还拥有高速主干网(例如10 Gbit/s 或更高)。有一些地区ISP网络也可直接与主干ISP相连。
- **地区ISP**是一些较小的ISP。这些地区ISP通过-一个或多个主干ISP连接起来。它们位于等级中的第二层，数据率也低一些。
- **本地ISP** 给用户提供直接的服务(这些用户有时也称为端用户，强调是末端的用户)。本地ISP可以连接到地区ISP，也可直接连接到主干ISP。 绝大多数的用户都是连接到本地ISP的。本地ISP可以是一个仅仅提供互联网服务的公司，也可以是一个拥有网络并向自己的雇员提供服务的企业，或者是一个运行自己的网络的非营利机构(如学院或大学)。本地ISP可以与地区ISP或主干ISP连接。


![alt text](image-6.png)



# 因特网的组成


## 功能划分

因特网的拓扑结构虽然非常复杂，并且在地理上覆盖了全球，但从功能上看。可以划分为以下两部分。

- **边缘部分**： 是由所有连接在互联网上的**主机**主城的，用来进行通信
  - 电脑
  - 手机
  - 服务器
  - 摄像头


- **核心部分**： 由大量的路由器构成，为边缘部分提供服务

![alt text](image-7.png)



### 边缘部分



1. 处在因特网边缘的部分就是连接在因特网上的所有的主机。这些主机又称为端系统(end system)。

2. “主机 A 和主机 B 进行通信”，实际上是指：“运行在主机 A 上的某个程序和运行在主机 B 上的另一个程序进行通信”。

3. 即“主机 A 的某个进程和主机 B 上的另一个进程进行通信”。或简称为“计算机之间通信”

4. 在网络边缘的端系统中运行的程序之间的通信方式通常可划分为两大类：
   - 客户端服务器方式（CS） ： 一个作为服务器，提供服务、一个作为客户端请求服务
  
   - 对等方式（P2P）： 这种方式每一端都是服务请求方又是服务提供方，双方都可以交换自己的资源
   - P2P 网络技术体现在以下几个方面
     - **去中心化**： 网络中的所有资源都分散在所有节点上，信息的传输和服务的实现直接在节点之间进行。
     - **健壮性**： ：P2P架构天生具有耐攻击、高容错的优点。由于服务是分散在各个节点之间进行的，部分节点或网络遭到破坏对其它部分的影响很小。
     - 高性价比：性能优势是P2P被广泛关注的一个重要原因。采用P2P架构可以有效地利用互联网中散布的大量普通结点，将计算任务或存储资料分布到所有节点上。利用其中闲置的计算能力或存储空间，达到高性能计算和海量存储的目的。
     - 隐私保护：在P2P网络中，由于信息的传输分散在各节点之间进行而无需经过某个集中环节，用户的隐私信息被窃听和泄漏的可能性大大缩小。


### 核心部分

1. 在网络核心部分其特殊作用的是路由器
   ![alt text](image-8.png)


2. 三种交换方式
   - 电路交换（Circuit Switching） : 电话交换机接通电话线的方式称为电路交换
    
        ![alt text](image-9.png)

        电话交换机：可以把电话交换机简单地看成是一个有多个开关的开关器，可以将需要通信的任意两部电话的电话线路按需接通，从而大大减少了连接的电话线数量

        从通信资源的分配角度来看，交换(Switching)就是按照某种方式动态地分配传输线路的资源;

        电路交换的三个步骤

        - 建立连接（分配通信资源）
        - 通话（占用资源）
        - 释放连接
        
        ![alt text](image-10.png)

        电路交换的缺点：当用户正在输入和编辑一份待传输的文件时，用户所与用的通信资源暂时未被利用，该通信资源也不能被其他用户利用，宝贵的线路资源就被白白浪费掉了，**因此电路交换的传输效率非常低，不适用于计算机和计算机之间的通信**。
   - 报文交换
   - 分组交换（Packet Switching）: 路由器是实现分区交换的关键构件，任务是转发收到的分组，这是网络核心最重要的功能。
     - 分组交换采用**存储转发技术**，即将一个报文划分为几个分组后在进行传送，这些分组可能通过的不是同样的路径，当接收端收到后在进行组合，并且进行差错校验，保证报文的完整性和准确性。
     



三种方式对比


- 电路交换：
  ![alt text](image-11.png)

  - 优点： 
    - 通信延时小
    - 有序传播
    - 没有冲突
    - 实时性强
    - 控制简单
  - 缺点
    - 建立连接时间长
    - 独占线路，使用效率低
    - 灵活性差
    - 难以规格化
    



- 报文交换：
    ![alt text](image-12.png)

  - 优点
    - 无需建立连接
    - 动态分配线路
    - 提高线路利用率
    - 提供多目标服务
  - 缺点
    - 引起了转发时延
    - 需要较大的缓存空间
    - 需要传输额外的信息

- 分区交换
  ![alt text](image-13.png)
  - 优点
    - 无需建立连接
    - 线路利用效率高
    - 简化了存储管理
    - 加速传输
    - 减少了出错概率和重发数据量
  - 缺点
    - 引起了转发延时
    - 需要额外传输信息



# 计算机网络的分类

## 按照网络的作用范围进行分类



1. 广域网（Wide Area Network） ： 广域网的作用范围通常为几十到几千公里。广域网是互联网的核心组成部分，其任务是通过长距离，运送主机所发送的数据。连接广域网各节点交换机的链路一般都是高速链路，具有较大的通信容量。
   
2. 城域网（Metropolitan Area Network） ： 城域网的作用范围一般是一个城市，可跨越几个街区甚至整个城市，作用距离约为 5 ~ 50km。


3. 局域网（Local Area Network） 
4. 个人局域网（Personal Area Network）

## 按照网络的线路结构进行分类


### 星型

![alt text](image-15.png)
星型拓扑结构是目前局域网普遍采用的一种拓扑结构


星型拓扑结构是用一个节点作为中心节点，其他节点直接与中心节点相连接构成的网络。中心节点一般是连接设备，常见的中心节点为路由器。


星型拓扑结构属于集中型控制网络，各个节点通信都要经过中心节点，到达目的节点。



优点
- 控制简单，任何单一站点只和中心节点相连接，易于网络监控和管理
- 故障诊断和隔离容易，中央节点对连接线路可以逐一隔离和故障定位，单个连接点故障只影响一个设备
- 方便服务，中央节点可以方便的对各个节点提供服务和网络配置


缺点
- 需要耗费大量的线缆，安装维护的工作量也骤增
- 中央节点负担重，容易形成瓶颈，一旦发生故障，则全网收到影响
- 各个站点的分布处理能力较低


### 总线型

![alt text](image-14.png)

总线型网络拓扑结构中所有设备都直接与总线相连接，它所采用的介质一般也是同轴电缆或光缆


总线结构是指各个设备都挂在一条总线上，各设备地位平等，无中心节点控制，公用总线上的信息多以基带形式串行传递，其传递方向是从发送信息的节点开始向两端扩散，如同广播电视台发射的信息一样，因此又称作是广播式计算机网络。各设备在接收信息时进行地址检查，如果与自己的地址相符则接收数据。

总线型网络特点如下：
- **结构简单**： 各网络通过简单的搭线器即可联通
- 走线量小
- 成本低： 无需路由设备
- 扩充灵活： 增加搭线器即可
- 故障诊断和隔离比较困难
- 易于发生数据碰撞



### 环型


![alt text](image-16.png)


环型结构，中的链路首尾相连形成一个闭合的环。数据在环路中沿着一个方向在各个节点中传输，信息从一个节点传递到另一个节点。


这种结构的网络形式主要用于令牌网中