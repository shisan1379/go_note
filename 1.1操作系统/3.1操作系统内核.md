# 什么是内核？
说到操作系统，就必须说内核。内核是操作系统中**应用连接硬件设备的桥梁**。


# 内核的能力

对于一个现代的操作系统来说，它的内核至少应该提供以下 4 种基本能力：

- 管理进程、线程（决定哪个进程、线程使用 CPU）；
- 管理内存（决定内存用来做什么）；
- 连接硬件设备（为进程、和设备间提供通信能力）；
- 提供系统调用（接收进程发送来的系统调用）。



# 操作系统分层
从上面 4 种能力来看操作系统和内核之间的关系，通常可以把操作系统分成 3 层，最底层的硬件设备抽象、中间的内核和最上层的应用。

![](https://raw.githubusercontent.com/shisan1379/img/main/img/20240422201924.png)



# 内核是如何工作的？

内核权限非常高，它可以管理进程、可以直接访问所有的内存，因此确实需要和进程之间有一定的隔离。这个隔离用类似请求/响应的模型，非常符合常理。
![](https://raw.githubusercontent.com/shisan1379/img/main/img/20240422201948.png)